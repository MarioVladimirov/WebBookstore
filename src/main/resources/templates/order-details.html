<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/commons :: head"></head>

<body>

<!-- Navigation-->
<header th:replace="fragments/commons :: navbar"></header>

<main class="align-content-center">

    <!-- Main Content-->
    <section class="container-fluid">

        <!-- Sidebar-->
        <nav th:replace="fragments/commons :: sidebar"></nav>

        <!-- Page Content -->
        <div id="content">
            <div th:object="${order}" id="order-view-wrapper" class="rounded p-2 m-3">
                <div class="row d-flex justify-content-center">
                    <section id="general-order-info" class="p-4 ml-3 mr-auto">
                        <h4>
                            <strong>Order # </strong>
                            <span th:text="*{id}"></span>
                        </h4>
                        <h5>
                            <strong>Date: </strong>
                            <span th:text="*{date}"></span>
                        </h5>
                        <h5>
                            <strong>Status: </strong>
                            <span th:text="*{status}"></span>
                        </h5>
                    </section>

                    <section id="customer-info" class="p-4 mx-auto">
                        <h5 class="font-weight-bold border-bottom">Customer: </h5>
                        <span th:text="*{customerFullName}"></span>
                        <h5 class="font-weight-bold border-bottom">Delivery Address: </h5>
                        <span th:text="*{customerAddress}"></span>
                    </section>
                </div>

                <section id="ordered-items" class="p-4 m-3">
                    <h5 class="font-weight-bold border-bottom">Ordered Books:</h5>
                    <div class="cart ordered-items-container align-items-center">
                        <div th:each="book : ${order.orderedBooks}"
                             th:object="${book}"
                             class="row border-top border-bottom">
                            <div class="row main align-items-center">
                                <div class="col-md-2">
                                    <a th:href="@{/books/{id}(id=*{bookId})}"
                                       th:title="*{bookTitle}">
                                        <img class="img-fluid" th:src="*{bookImageUrl}">
                                    </a>
                                </div>
                                <div class="col-md-3">
                                    <a th:href="@{/books/{id}(id=*{bookId})}"
                                       th:title="*{bookTitle}">
                                        <p class="card-title text-dark" th:text="*{bookTitle}"></p>
                                    </a>
                                </div>
                                <div class="col-md-3 text-center"
                                     th:text="|*{bookPrice} BGN|">
                                </div>
                                <div class="col-md-1 text-center"
                                     th:text="|x *{quantity}|">
                                </div>
                                <div class="col-md-3 text-center"
                                     th:text="|*{totalPrice} BGN|">
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="row d-flex justify-content-end">
                        <strong th:text="|Total Price: *{price} BGN|"></strong>
                    </div>
                </section>
            </div>
        </div>
    </section>
</main>

<!-- Footer-->
<footer th:replace="fragments/commons :: footer"></footer>

<script th:src="@{/js/reviews-search.js}" type="text/javascript" defer></script>

</body>
</html>